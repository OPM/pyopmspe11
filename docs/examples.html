

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Examples &mdash; pyopmspe11  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Benchmark" href="benchmark.html" />
    <link rel="prev" title="Configuration file" href="configuration_file.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #aaaaaa" >

          
          
          <a href="index.html">
            
              <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration_file.html">Configuration file</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#hello-world">Hello world</a></li>
<li class="toctree-l2"><a class="reference internal" href="#before-the-13-06-2024-workshop">Before the 13.06.2024 workshop</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#spe11a">SPE11A</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spe11b">SPE11B</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spe11c">SPE11C</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#after-the-13-06-2024-workshop">After the 13.06.2024 workshop</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">SPE11A</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">SPE11B</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">SPE11C</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">Benchmark</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">pyopmspe11 Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="output_folder.html">Output folder</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="related.html">Related</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About pyopmspe11</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #aaaaaa" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyopmspe11</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Examples</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/examples.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h1>
<section id="hello-world">
<h2>Hello world<a class="headerlink" href="#hello-world" title="Link to this heading"></a></h2>
<p>The <a class="reference external" href="https://github.com/OPM/pyopmspe11/blob/main/examples/hello_world">examples/hello_world</a> folder contains configuration files
with low grid resolution and shorter injection times (for initial testing of the framework). For example, by executing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pyopmspe11<span class="w"> </span>-i<span class="w"> </span>spe11b.txt<span class="w"> </span>-o<span class="w"> </span>spe11b<span class="w"> </span>-m<span class="w"> </span>all<span class="w"> </span>-g<span class="w"> </span>all<span class="w"> </span>-t<span class="w"> </span><span class="m">5</span><span class="w"> </span>-r<span class="w"> </span><span class="m">50</span>,1,15<span class="w"> </span>-w<span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
<p>The following is the figure <cite>spe11b_tco2_2Dmaps</cite>, which shows the CO2 mass in the domain over time (i.e., the simulations results from
the corner-point grid mapped to the equidistance reporting grid of 50 x 15 as defined by the -r flag). You can
compare your example results to this figure to evaluate if your example ran correctly:</p>
<figure class="align-default">
<img alt="_images/spe11b_tco2_2Dmaps.png" src="_images/spe11b_tco2_2Dmaps.png" />
</figure>
<p>Using the <a class="reference internal" href="configuration_file.html#toml"><span class="std std-ref">toml</span></a> format, the previous run is equivalent to (this requires a Python version of at least 3.11 [due to <a class="reference external" href="https://toml.io/en/">tomllib</a>]):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pyopmspe11<span class="w"> </span>-i<span class="w"> </span>spe11b.toml<span class="w"> </span>-o<span class="w"> </span>spe11b<span class="w"> </span>-m<span class="w"> </span>all<span class="w"> </span>-g<span class="w"> </span>all<span class="w"> </span>-t<span class="w"> </span><span class="m">5</span><span class="w"> </span>-r<span class="w"> </span><span class="m">50</span>,1,15<span class="w"> </span>-w<span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
<p>Let us now change the grid type from corner-point to tensor in line 7 of the configuration file.
Then, we run the simulations and we save the results in a different output folder:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pyopmspe11<span class="w"> </span>-i<span class="w"> </span>spe11b.txt<span class="w"> </span>-o<span class="w"> </span>tensor<span class="w"> </span>-m<span class="w"> </span>deck_flow_data<span class="w"> </span>-g<span class="w"> </span>performance_sparse<span class="w"> </span>-t<span class="w"> </span><span class="m">5</span><span class="w"> </span>-r<span class="w"> </span><span class="m">50</span>,1,15<span class="w"> </span>-w<span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
<p>Here we have just set the framework to generate the deck, run the simulations, and generate the performance and sparse data.
Then, to visualize the comparison between both runs, this can be achived by executing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pyopmspe11<span class="w"> </span>-c<span class="w"> </span>spe11b
</pre></div>
</div>
<p>The following are some of the figures generated in the compare folder:</p>
<figure class="align-default">
<img alt="_images/spe11b_performance.png" src="_images/spe11b_performance.png" />
</figure>
<figure class="align-default">
<img alt="_images/spe11b_sparse_data.png" src="_images/spe11b_sparse_data.png" />
</figure>
<p>This example uses a very coarser grid to run fast. See the following section for finer grids.</p>
</section>
<section id="before-the-13-06-2024-workshop">
<h2>Before the 13.06.2024 workshop<a class="headerlink" href="#before-the-13-06-2024-workshop" title="Link to this heading"></a></h2>
<p>The results below are the ones presented in the second CSP workshop. There have been two bug fixes that change
some of the results (see <a class="reference external" href="https://github.com/OPM/pyopmspe11/pull/54">this</a> and <a class="reference external" href="https://github.com/OPM/pyopmspe11/pull/55">this PR</a>).
See the results in <a class="reference internal" href="benchmark.html"><span class="doc">benchmark</span></a> for the final results.</p>
<section id="spe11a">
<h3>SPE11A<a class="headerlink" href="#spe11a" title="Link to this heading"></a></h3>
<p>In a 1 mm Cartesian grid for the spe11a <a class="reference external" href="https://github.com/OPM/pyopmspe11/blob/main/examples/finner_grids/spe11a1mm.txt">(spe11a1mm.txt)</a>
and in a 1 cmish corner-point grid <a class="reference external" href="https://github.com/OPM/pyopmspe11/blob/main/examples/finner_grids/spe11a_cp_1cmish.txt">(spe11a_cp_1cmish.txt)</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pyopmspe11<span class="w"> </span>-i<span class="w"> </span>spe11a1mm.txt<span class="w"> </span>-o<span class="w"> </span>spe11a1mm<span class="w"> </span>-m<span class="w"> </span>all<span class="w"> </span>-g<span class="w"> </span>all<span class="w"> </span>-t<span class="w"> </span><span class="m">1</span><span class="w"> </span>-r<span class="w"> </span><span class="m">280</span>,1,120<span class="w"> </span>-w<span class="w"> </span><span class="m">0</span>.16666666666666666
pyopmspe11<span class="w"> </span>-i<span class="w"> </span>spe11a_cp_1cmish.txt<span class="w"> </span>-o<span class="w"> </span>spe11a_cp_1cmish<span class="w"> </span>-m<span class="w"> </span>all<span class="w"> </span>-g<span class="w"> </span>all<span class="w"> </span>-t<span class="w"> </span><span class="m">1</span><span class="w"> </span>-r<span class="w"> </span><span class="m">280</span>,1,120<span class="w"> </span>-w<span class="w"> </span><span class="m">0</span>.16666666666666666
pyopmspe11<span class="w"> </span>-c<span class="w"> </span>spe11a
</pre></div>
</div>
<figure class="align-default" id="id4">
<img alt="_images/spe11a_masses.png" src="_images/spe11a_masses.png" />
<figcaption>
<p><span class="caption-text">Final CO2 mass in the reporting grid of 1 cm size for (left) spe11a1mm and (right) spe11a_cp_1cmish.</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id5">
<img alt="_images/spe11a_performance.png" src="_images/spe11a_performance.png" />
<figcaption>
<p><span class="caption-text">Performance data.</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id6">
<img alt="_images/spe11a_sparse_data.png" src="_images/spe11a_sparse_data.png" />
<figcaption>
<p><span class="caption-text">Sparse data.</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="spe11b">
<h3>SPE11B<a class="headerlink" href="#spe11b" title="Link to this heading"></a></h3>
<p>The following are simulation results in a 1 m Cartesian grid <a class="reference external" href="https://github.com/OPM/pyopmspe11/blob/main/examples/finner_grids/spe11b1m.txt">(spe11b1m.txt)</a>,
as well as for a 10 m Cartesian grid <a class="reference external" href="https://github.com/OPM/pyopmspe11/blob/main/examples/finner_grids/spe11b10m.txt">(spe11b10m.txt)</a> which is the grid
resolution for the reporting of dense data in the benchmark:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pyopmspe11<span class="w"> </span>-i<span class="w"> </span>spe11b1m.txt<span class="w"> </span>-o<span class="w"> </span>spe11b1m<span class="w"> </span>-m<span class="w"> </span>all<span class="w"> </span>-g<span class="w"> </span>all<span class="w"> </span>-r<span class="w"> </span><span class="m">840</span>,1,120<span class="w"> </span>-t<span class="w"> </span><span class="m">5</span><span class="w"> </span>-w<span class="w"> </span><span class="m">0</span>.1
pyopmspe11<span class="w"> </span>-i<span class="w"> </span>spe11b10m.txt<span class="w"> </span>-o<span class="w"> </span>spe11b10m<span class="w"> </span>-m<span class="w"> </span>all<span class="w"> </span>-g<span class="w"> </span>all<span class="w"> </span>-r<span class="w"> </span><span class="m">840</span>,1,120<span class="w"> </span>-t<span class="w"> </span><span class="m">5</span><span class="w"> </span>-w<span class="w"> </span><span class="m">0</span>.1
pyopmspe11<span class="w"> </span>-c<span class="w"> </span>spe11b
</pre></div>
</div>
<figure class="align-default" id="id7">
<img alt="_images/spe11b_sparse_data_1m-10m.png" src="_images/spe11b_sparse_data_1m-10m.png" />
<figcaption>
<p><span class="caption-text">Sparse data.</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id8">
<img alt="_images/spe11b_performance_1m-10m.png" src="_images/spe11b_performance_1m-10m.png" />
<figcaption>
<p><span class="caption-text">Performance data.</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
<img alt="_images/animation.gif" src="_images/animation.gif" />
</section>
<section id="spe11c">
<h3>SPE11C<a class="headerlink" href="#spe11c" title="Link to this heading"></a></h3>
<p>The following are simulation results in a corner-point grid <a class="reference external" href="https://github.com/OPM/pyopmspe11/blob/main/examples/finner_grids/spe11c_cp.txt">(spe11c_cp.txt)</a> with 21729920 active cells
and in a Cartesian grid with the same resolution as in the benchmark reporting data <a class="reference external" href="https://github.com/OPM/pyopmspe11/blob/main/examples/finner_grids/spe11c_168_100_120.txt">(spe11c_168_100_120.txt)</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pyopmspe11<span class="w"> </span>-i<span class="w"> </span>spe11c_cp.txt<span class="w"> </span>-o<span class="w"> </span>spe11c_cp<span class="w"> </span>-m<span class="w"> </span>all<span class="w"> </span>-g<span class="w"> </span>all<span class="w"> </span>-r<span class="w"> </span><span class="m">168</span>,100,120<span class="w"> </span>-t<span class="w"> </span><span class="m">0</span>,5,10,15,20,25,30,35,40,45,50,75,100,150,200,250,300,350,400,450,500,600,700,800,900,1000<span class="w"> </span>-w<span class="w"> </span><span class="m">0</span>.1
pyopmspe11<span class="w"> </span>-i<span class="w"> </span>spe11c_168_100_120.txt<span class="w"> </span>-o<span class="w"> </span>spe11c_168_100_120<span class="w"> </span>-m<span class="w"> </span>all<span class="w"> </span>-g<span class="w"> </span>all<span class="w"> </span>-r<span class="w"> </span><span class="m">168</span>,100,120<span class="w"> </span>-t<span class="w"> </span><span class="m">0</span>,5,10,15,20,25,30,35,40,45,50,75,100,150,200,250,300,350,400,450,500,600,700,800,900,1000<span class="w"> </span>-w<span class="w"> </span><span class="m">0</span>.1
pyopmspe11<span class="w"> </span>-c<span class="w"> </span>spe11c
</pre></div>
</div>
<figure class="align-default" id="id9">
<img alt="_images/spe11c_sparse_data.png" src="_images/spe11c_sparse_data.png" />
<figcaption>
<p><span class="caption-text">Sparse data.</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id10">
<img alt="_images/spe11c_performance.png" src="_images/spe11c_performance.png" />
<figcaption>
<p><span class="caption-text">Performance data.</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
<img alt="_images/spe11c.gif" src="_images/spe11c.gif" />
</section>
</section>
<section id="after-the-13-06-2024-workshop">
<h2>After the 13.06.2024 workshop<a class="headerlink" href="#after-the-13-06-2024-workshop" title="Link to this heading"></a></h2>
<p>For these results, the maximum time step for the simulator during the injection period and after the injeciton period has been
restricted after looking to the debug files to reduce the number of time step chops and mass conservation issues. We welcome
PRs with configuration files with better tunning. “CP” are the results in a corner-point grid, while “CART” in a Cartesian grid.</p>
<section id="id1">
<h3>SPE11A<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<figure class="align-default">
<img alt="_images/spe11a_performance_new.png" src="_images/spe11a_performance_new.png" />
</figure>
<figure class="align-default">
<img alt="_images/spe11a_sparse_data_new.png" src="_images/spe11a_sparse_data_new.png" />
</figure>
<img alt="_images/spe11as.gif" src="_images/spe11as.gif" />
</section>
<section id="id2">
<h3>SPE11B<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<figure class="align-default">
<img alt="_images/spe11b_performance_new.png" src="_images/spe11b_performance_new.png" />
</figure>
<figure class="align-default">
<img alt="_images/spe11b_sparse_data_new.png" src="_images/spe11b_sparse_data_new.png" />
</figure>
<img alt="_images/animationspe11b.gif" src="_images/animationspe11b.gif" />
</section>
<section id="id3">
<h3>SPE11C<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<figure class="align-default">
<img alt="_images/spe11c_performance_new.png" src="_images/spe11c_performance_new.png" />
</figure>
<figure class="align-default">
<img alt="_images/spe11c_sparse_data_new.png" src="_images/spe11c_sparse_data_new.png" />
</figure>
<img alt="_images/animationspe11c.gif" src="_images/animationspe11c.gif" />
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="configuration_file.html" class="btn btn-neutral float-left" title="Configuration file" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="benchmark.html" class="btn btn-neutral float-right" title="Benchmark" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, NORCE Norwegian Research Centre AS.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>